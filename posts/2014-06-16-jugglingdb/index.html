<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" xmlns:og="http://ogp.me/ns#" xmlns:fb="https://www.facebook.com/2008/fbml"><head><meta charset="utf-8"><link rel="alternate" title="RSS" type="application/rss+xml" href="http://feeds.feedburner.com/npmawesome"><link href="http://npmawesome.com/atom.xml" title="Blog Posts" type="application/atom+xml" rel="alternate"><link rel="stylesheet" type="text/css" media="all" href="/styles.css"><meta name="viewport" content="initial-scale=1, maximum-scale=1"><meta property="twitter:account_id" content="4503599628039784"><meta property="fb:app_id" content="1425631694354948"><title>JugglingDB</title><meta property="og:title" content="npm awesome"><meta property="og:image" content="http://npmawesome.com/images/posts/npmawesome-logo-512x512.png"><meta property="og:updated_time" content="1402934400000"><meta property="og:site_name" content="npm awesome"><meta property="og:type" content="article"><meta property="og:url" content="http://npmawesome.com/posts/2014-06-16-jugglingdb"><meta property="og:description" content="Multi-database ORM: redis, mongodb, mysql, sqlite, postgres, neo4j, memory... Many databases, common API."><link rel="canonical" href="http://npmawesome.com/posts/2014-06-16-jugglingdb"><meta name="description" content="Multi-database ORM: redis, mongodb, mysql, sqlite, postgres, neo4j, memory... Many databases, common API."></head></html><body><header id="page-header"><div class="container"><div class="row"><h1 id="logo"><a href="/"><span class="name">npmawesome</span><span class="posts-counter">101</span></a></h1><div id="sub-title"><a href="http://npmjs.org">npm</a> picks, old and new.
<a href="https://github.com/alexgorbatchev/npm-awesome-site">Fork on GitHub to contribute</a></div></div></div></header><div class="container"><div class="row"><div class="main col"><article><header><h2 class="npm"><a href="/posts/2014-06-16-jugglingdb">JugglingDB</a></h2><div class="meta"><span>posted by <a href="https://github.com/alexgorbatchev">Alex Gorbatchev</a> on June 16th 2014</span><a href="http://npmawesome.com/posts/2014-06-16-jugglingdb#disqus_thread" class="comments"></a><div data-github-repo="1602/jugglingdb" class="github-stars"></div></div><div class="social-box"><div data-yashareLink="http://npmawesome.com/posts/2014-06-16-jugglingdb" data-yashareL10n="en" data-yashareQuickServices="facebook,twitter,gplus" data-yashareTheme="counter" data-yasharetype-off="small" class="yashare-auto-init"></div></div></header><div class="content"><div class="highlight nodejitsu"><img src="/images/posts/nodejitsu.png" style="height: 80px" class="hide-on-mobile"/><span>This post was written for <a href="http://nodejitsu.com">Nodejitsu</a> blog and is crossposted here.
<a href="http://nodejitsu.com">Nodejitsu</a> loved what I was doing at <a href="http://npmawesome.com">npmawesome.com</a>
and is now supporting the project.</span></div><p>Data access is something Node.js is very well known for. When it comes to drivers, there&#39;s support for nearly every database under the sun. These days however, in most cases you use an <a href="http://en.wikipedia.org/wiki/Object-relational_mapping">ORM</a> library instead of a plain driver. It saves you time and you don&#39;t have to write every single thing youself.</p>
<p>There are database specific <a href="http://en.wikipedia.org/wiki/Object-relational_mapping">ORM</a> libraries such as <a href="http://mongoosejs.com/">Mongoose</a> for MongoDB and <a href="http://sequelizejs.com/">Sequelize</a> for MySQL and PostgreSQL. The downside to this approach is that you have to learn a whole new API when you have to go from one database to another. I&#39;m not suggesting it&#39;s a good idea to switch or use different databases during a lifecycle of a single project (eg SQLite for development and MySQL for production). But going from project to project, client to client, your requirements might change and you will have to use a different database and then learn a whole new API. Fun? Yes! But if you have to delivery features quickly, this might be a setback.</p>
<div class="read-more"></div>

<p><img src="http://npmawesome.com/images/posts/anatoliy_chakkaev.jpg" width="100" align="right"/>
<a href="http://browsenpm.org/package/jugglingdb">JugglingDB</a> (Github: <a href="https://github.com/1602/jugglingdb">1602/jugglingdb</a>, License: MIT) by <a href="https://github.com/1602">Anatoliy Chakkaev</a> is a young <a href="http://en.wikipedia.org/wiki/Object-relational_mapping">ORM</a> library that tries to provide a single API for a vast array of databases. All adapters come in a form of separate modules and there are quite a few already available:</p>
<ul>
<li>ArangoDB</li>
<li>CouchDB</li>
<li>Firebird</li>
<li>MongoDB</li>
<li>MySQL</li>
<li>PostgreSQL</li>
<li>Redis</li>
<li>RethinkDB</li>
<li>SQLite</li>
</ul>
<p>Lets check it out!</p>
<pre><code>npm install jugglingdb
</code></pre><h2 id="usage">Usage</h2>
<pre><code>var Schema = require(&#39;jugglingdb&#39;).Schema;
var schema = new Schema(&#39;redis&#39;, {port: 6379});

var Post = schema.define(&#39;Post&#39;, {
  title: { type: String, length: 255 },
  content: { type: Schema.Text },
  date: { type: Date, default: function () { return new Date; } },
  timestamp: { type: Number,  default: Date.now },
  published: { type: Boolean, default: false, index: true }
});

var User = schema.define(&#39;User&#39;, {
  name: String,
  bio: Schema.Text,
  approved: Boolean,
  joinedAt: Date,
  age: Number
});

User.hasMany(Post, { as: &#39;posts&#39;,  foreignKey: &#39;userId&#39; });
Post.belongsTo(User, { as: &#39;author&#39;, foreignKey: &#39;userId&#39; });

var user = new User({ name: &#39;Alex&#39; });

user.save(function (err) {
  var post = user.posts.build({ title: &#39;Hello world&#39; });
  post.save(console.log);
});
</code></pre><p>Here&#39;s the cool part, if you want to use a different database, all you have to do is change how your schema connects:</p>
<pre><code>var schema = new Schema(&#39;mongodb&#39;, {url: &#39;mongodb://localhost/myapp&#39;});
</code></pre><p>What&#39;s even cooler, is that you can have multiple schemas connecting to multiple databases at the same time. This could be very handy if for example you want to keep some cached data in Redis, which storing your loosly defined documents in MongoDB and your accounting stuff in MySQL. You could do all that with a single API.</p>
<h2 id="closing-thoughts">Closing thoughts</h2>
<p><a href="https://github.com/1602/jugglingdb">1602/jugglingdb</a> is not as well known as <a href="http://mongoosejs.com/">Mongoose</a>, but it&#39;s been in development since 2011 and has a pretty strong following on GitHub. <a href="http://jugglingdb.co/">Documentation</a> is pretty extensive and <a href="http://jugglingdb.co/roadmap.3.html">roadmap</a> gives you a glimpse of where the project is headed and what is currently considered missing. Finally, check out <a href="https://github.com/npmawesome/example-jugglingdb">source code</a> for this article on GitHub and an <a href="http://runnable.com/U5SP5uAfzMh7SfoX">interactive example</a> on Runnable. I&#39;ve included MongoDB, Redis and Memory examples.</p>
<div class="social-box"><div data-yashareLink="http://npmawesome.com/posts/2014-06-16-jugglingdb" data-yashareL10n="en" data-yashareQuickServices="facebook,twitter,gplus" data-yashareTheme="counter" data-yasharetype-off="small" class="yashare-auto-init"></div></div></div></article><div id="disqus_thread"></div><script type="text/javascript">/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
var disqus_shortname = 'npmawesome'; // required: replace example with your forum shortname

/* * * DON'T EDIT BELOW THIS LINE * * */
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script></div><aside class="col"><div class="feedburner"><a href="http://feeds.feedburner.com/npmawesome"><img src="/images/feed.gif"></a></div><div class="other-posts"><h4>Previously...</h4><div><a href="/posts/2014-06-26-songbird" class="partner nodejitsu">songbird</a></div><div><a href="/posts/2014-06-24-comparing-winston-and-bunyan-node-js-logging" class="partner strongloop">Comparing Winston and Bunyan Node.js Logging</a></div><div><a href="/posts/2014-06-17-links">Links for June 17, 2014</a></div><div><a href="/posts/2014-06-16-jugglingdb" class="current partner nodejitsu">JugglingDB</a></div><div><a href="/posts/2014-06-06-links">Links for June 6, 2014</a></div><div><a href="/posts/2014-05-29-links">Links for May 29, 2014</a></div><div><a href="/posts/2014-05-23-joi" class="partner nodejitsu">joi</a></div><div><a href="/posts/2014-05-23-changelog">changelog</a></div><div><a href="/posts/2014-05-22-links">Links for May 22, 2014</a></div><div><a href="/posts/2014-05-20-links">Links for May 20, 2014</a></div><div><a href="/posts/2014-05-16-longjohn" class="partner nodejitsu">longjohn</a></div><div><a href="/posts/2014-05-16-links">Links for May 16, 2014</a></div><div><a href="/posts/2014-05-14-links">Links for May 14, 2014</a></div><div><a href="/posts/2014-05-13-links">Links for May 13, 2014</a></div><div><a href="/posts/2014-05-06-agenda" class="partner nodejitsu">agenda</a></div><div><a href="/posts/2014-05-06-links">Links for May 6, 2014</a></div><div><a href="/posts/2014-05-01-google-distance">google-distance</a></div><div><a href="/posts/2014-04-30-links">Links for Apr 30, 2014</a></div><div><a href="/posts/2014-04-30-sentiment" class="partner nodejitsu">sentiment</a></div><div><a href="/posts/2014-04-29-compare-express-restify-hapi-loopback" class="partner strongloop">Comparing Express, Restify, hapi and LoopBack for building RESTful APIs</a></div><div><a href="/posts/2014-04-28-angular-injector">angular-injector</a></div><div><a href="/posts/2014-04-23-platform-js">platform.js</a></div><div><a href="/posts/2014-04-23-links">Links for Apr 23, 2014</a></div><div><a href="/posts/2014-04-19-links">Links for Apr 19, 2014</a></div><div><a href="/posts/2014-04-18-links">Links for Apr 18, 2014</a></div><div><a href="/posts/2014-04-18-terminal-menu" class="partner nodejitsu">terminal-menu</a></div><div><a href="/posts/2014-04-17-links">Links for Apr 17, 2014</a></div><div><a href="/posts/2014-04-16-promises-trycatch-zones" class="partner strongloop">Comparing Node.js Promises, Try/Catch, Angular Zone.js and yes, Zone</a></div><div><a href="/posts/2014-04-15-links">Links for Apr 15, 2014</a></div><div><a href="/posts/2014-04-11-links">Links for Apr 10, 2014</a></div><div><a href="/posts/2014-04-10-shmock">shmock</a></div><div><a href="/posts/2014-04-09-links">Links for Apr 8, 2014</a></div><div><a href="/posts/2014-04-07-links">Links for Apr 7, 2014</a></div><div><a href="/posts/2014-04-04-links">Links for Apr 5, 2014</a></div><div><a href="/posts/2014-04-04-progress" class="partner nodejitsu">progress</a></div><div><a href="/posts/2014-04-04-slate-irc">slate-irc</a></div><div><a href="/posts/2014-04-03-links">Links for Apr 4, 2014</a></div><div><a href="/posts/2014-03-28-cli-table" class="partner nodejitsu">cli-table</a></div><div><a href="/posts/2014-03-21-yargs" class="partner nodejitsu">yargs</a></div><div><a href="/posts/2014-03-12-convict" class="partner nodejitsu">convict</a></div><div><a href="/posts/2014-03-06-lockit" class="partner nodejitsu">lockit</a></div><div><a href="/posts/2014-02-27-qr-image" class="partner nodejitsu">qr-image</a></div><div><a href="/posts/2014-02-25-webdriverjs">webdriverjs</a></div><div><a href="/posts/2014-02-24-pretty-error">pretty-error</a></div><div><a href="/posts/2014-02-21-supertest">supertest</a></div><div><a href="/posts/2014-02-20-spritesmith">spritesmith</a></div><div><a href="/posts/2014-02-19-9-gulp-js-plugins-for-a-great-build-system" class="partner nodejitsu">9 gulp.js plugins for a great build system</a></div><div><a href="/posts/2014-02-18-npm-diff">npm-diff</a></div><div><a href="/posts/2014-02-17-nodepdf">nodepdf</a></div><div><a href="/posts/2014-02-13-domain-context">domain-context</a></div><div><a href="/posts/2014-02-12-jsonstream">jsonstream</a></div><div><a href="/posts/2014-02-11-peer-js">peerjs</a></div><div><a href="/posts/2014-02-10-node-dependencies">node-dependencies</a></div><div><a href="/posts/2014-02-05-cucumber-js">cucumber</a></div><div><a href="/posts/2014-02-04-binary-js">binaryjs</a></div><div><a href="/posts/2014-02-03-power-assert">power-assert</a></div><div><a href="/posts/2014-01-31-coupon-code">coupon-code</a></div><div><a href="/posts/2014-01-30-rewire">rewire</a></div><div><a href="/posts/2014-01-29-yarm">yarm</a></div><div><a href="/posts/2014-01-28-modella">modella</a></div><div><a href="/posts/2014-01-27-mversion">mversion</a></div><div><a href="/posts/2014-01-24-schema-inspector">schema-inspector</a></div><div><a href="/posts/2014-01-23-oboe-js">oboe</a></div><div><a href="/posts/2014-01-22-autoprefixer">autoprefixer</a></div><div><a href="/posts/2014-01-21-js-yaml">js-yaml</a></div><div><a href="/posts/2014-01-17-gaze">gaze</a></div><div><a href="/posts/2014-01-14-shortid">shortId</a></div><div><a href="/posts/2014-01-13-testium">testium</a></div><div><a href="/posts/2014-01-10-messageformat">messageformat</a></div><div><a href="/posts/2014-01-09-gulp">gulp</a></div><div><a href="/posts/2014-01-06-chalk">chalk</a></div><div><a href="/posts/2013-12-31-recluster">recluster</a></div><div><a href="/posts/2013-12-30-rework">rework</a></div><div><a href="/posts/2013-12-27-cheerio">cheerio</a></div><div><a href="/posts/2013-12-19-dat">dat</a></div><div><a href="/posts/2013-12-18-xregexp">xregexp</a></div><div><a href="/posts/2013-12-17-npm">npm v1.3.18</a></div><div><a href="/posts/2013-12-16-ect">ect</a></div><div><a href="/posts/2013-12-13-chrono">chrono-node</a></div><div><a href="/posts/2013-12-11-prettyjson">prettyjson</a></div><div><a href="/posts/2013-12-10-state">state</a></div><div><a href="/posts/2013-12-09-blessed">blessed</a></div><div><a href="/posts/2013-12-05-gm">gm</a></div><div><a href="/posts/2013-12-03-nak">nak</a></div><div><a href="/posts/2013-12-03-verymodel">verymodel</a></div><div><a href="/posts/2013-11-30-scala-js">scala.js</a></div><div><a href="/posts/2013-11-27-scale-npm">scalenpm.org</a></div><div><a href="/posts/2013-11-26-rx-js">rx</a></div><div><a href="/posts/2013-11-26-docpad">docpad</a></div><div><a href="/posts/2013-11-25-grunt-angular-builder">grunt-angular-builder</a></div><div><a href="/posts/2013-11-22-videoconverter-js">videoconverter.js</a></div><div><a href="/posts/2013-11-22-event-stream">event-stream</a></div><div><a href="/posts/2013-11-21-bacon-js">baconjs</a></div><div><a href="/posts/2013-11-20-spdy">spdy</a></div><div><a href="/posts/2013-11-19-json-mask">json-mask</a></div><div><a href="/posts/2013-11-18-pm2">pm2</a></div><div><a href="/posts/2013-11-18-npmd">npmd</a></div><div><a href="/posts/2013-11-18-nixt">nixt</a></div><div><a href="/posts/2013-11-17-vm-js">vm.js</a></div><div><a href="/posts/2013-11-17-node-jvm">node-jvm</a></div><div><a href="/posts/2013-11-17-flake">flake</a></div></div></aside></div></div><a id="fork-me" href="https://github.com/alexgorbatchev/npm-awesome-site" class="hide-on-mobile">Fork Me</a><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

// http://drawingablank.me/blog/fix-your-bounce-rate.html
// https://news.ycombinator.com/item?id=5766883
setTimeout(function() { ga('send', 'event', 'read', 'auto generated'); }, 5000);

ga('create', 'UA-46164085-1', 'npmawesome.com');
ga('send', 'pageview');
</script><script>/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
var disqus_shortname = 'npmawesome'; // required: replace example with your forum shortname

/* * * DON'T EDIT BELOW THIS LINE * * */
(function () {
  var s = document.createElement('script'); s.async = true;
  s.type = 'text/javascript';
  s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
  (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
</script><script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script><script async src="/scripts/npmawesome.min.js"></script><script async src="//platform.twitter.com/widgets.js"></script><script async src="//yandex.st/share/share.js"></script></body>